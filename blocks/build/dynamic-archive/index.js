!function(){"use strict";var e,n={173:function(e,n,o){var a=window.wp.blocks,r=window.wp.i18n,i=window.wp.element,t=window.wp.compose,c=window.wp.blockEditor,l=window.wp.primitives,s=window.ReactJSXRuntime,d=(0,s.jsxs)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,s.jsx)(l.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,s.jsx)(l.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),u=(0,s.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(l.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})}),h=(0,s.jsx)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(l.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})}),v=window.wp.serverSideRender,p=o.n(v),m=window.wp.components;function x({attributeName:e,checked:n,setAttributes:o,children:a,label:r}){return(0,s.jsxs)("div",{className:"jcore-toggle-component",children:[(0,s.jsx)(m.ToggleControl,{checked:n,onChange:n=>o({[e]:n}),label:r}),n&&a]})}var y=window.wp.hooks,g=window.wp.coreData;function j({taxonomySlug:e,onChange:n,value:o}){const[a,t]=(0,i.useState)([]),[c,l]=(0,i.useState)(1),{taxonomy:d,loading:u}=function(e){const{record:n,isResolving:o}=(0,g.useEntityRecord)("root","taxonomy",e);return{taxonomy:n,loading:o}}(e),{taxonomyRecords:h,loading:v}=function(e,n={}){const o=(a={per_page:100},r=n,{...a,...r});var a,r;const{records:i,isResolving:t}=(0,g.useEntityRecords)("taxonomy",e,o);return{taxonomyRecords:i,loading:t}}(e,{per_page:100,page:c});return(0,i.useEffect)((()=>{if(h){const e=h.map((e=>e.slug));t(e)}}),[h]),(0,s.jsxs)(m.Flex,{children:[(0,s.jsx)(m.FlexBlock,{children:(0,s.jsx)(m.FormTokenField,{__experimentalExpandOnFocus:!0,__next40pxDefaultSize:!0,suggestions:a,value:o,onChange:n,label:`${(0,r.sprintf)((0,r._x)("Show only items with selected: %s","Taxonomy","jcore-dynamic-archive"),d.name)}`})}),(u||v)&&(0,s.jsx)(m.FlexItem,{children:(0,s.jsx)(m.Spinner,{})})]})}var _=JSON.parse('{"UU":"jcore/dynamic-archive"}');(0,a.registerBlockType)(_.UU,{edit:function e({attributes:n,setAttributes:o}){const{postType:a,perPage:l,columns:v,masonryGrid:_,showPagination:f,infiniteScroll:b,sticky:w,filterTypes:C,forcedCategories:S,taxonomies:k,hierarchicalFilter:P}=n,F=(0,t.useInstanceId)(e);o({instanceId:F.toString()});const{postTypes:T,loading:O}=function(e={per_page:100}){const{isResolving:n,records:o}=(0,g.useEntityRecords)("root","postType",e),[a,r]=(0,i.useState)([]),t=(0,y.applyFilters)("dynamicArchive.forbiddenPostTypes",["attachment"]);return(0,i.useEffect)((()=>{o&&r(o.filter((e=>e.viewable&&!t.includes(e.slug))))}),[o]),{postTypes:a,loading:n}}(),E=function(){const[e,n]=(0,i.useState)(5),[o]=(0,g.useEntityProp)("root","site","posts_per_page");return(0,i.useEffect)((()=>{void 0!==o&&n(o)}),[o]),e}();(0,i.useEffect)((()=>{n.perPage||o({perPage:E})}),[E]);const{order:I,orderBy:R}=n,B=[{label:(0,r.__)("Ascending","jcore-dynamic-archive"),value:"ASC"},{label:(0,r.__)("Descending","jcore-dynamic-archive"),value:"DESC"}],V=[{label:(0,r.__)("Date","jcore-dynamic-archive"),value:"date"},{label:(0,r.__)("Title","jcore-dynamic-archive"),value:"title"},{label:(0,r.__)("Modified","jcore-dynamic-archive"),value:"modified"},{label:(0,r.__)("Author","jcore-dynamic-archive"),value:"author"},{label:(0,r.__)("ID","jcore-dynamic-archive"),value:"ID"},{label:(0,r.__)("Menu order","jcore-dynamic-archive"),value:"menu_order"}],[H,N]=(0,i.useState)([]),{taxonomies:z,loading:M}=function(e){const n={per_page:-1};e&&(n.type=e);const{records:o,isResolving:a}=(0,g.useEntityRecords)("root","taxonomy",n);return{taxonomies:o,loading:a}}(a);(0,i.useEffect)((()=>{if(z){const e=z.map((e=>({label:e.name,value:e.slug,id:e.id})));N(null!=e?e:[]);const n=k.filter((n=>e.map((e=>e.value)).includes(n)));o({taxonomies:n})}else N([])}),[z]);const D=[{label:(0,r.__)("Checkbox","jcore-dynamic-archive"),value:"checkbox"},{label:(0,r.__)("Radio","jcore-dynamic-archive"),value:"radio"},{label:(0,r.__)("Dropdown","jcore-dynamic-archive"),value:"dropdown"}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.InspectorControls,{children:[(0,s.jsxs)(m.PanelBody,{title:(0,r.__)("Settings","jcore-dynamic-archive"),icon:O?(0,s.jsx)(m.Spinner,{size:5}):d,children:[(0,s.jsxs)(m.Flex,{children:[(0,s.jsx)(m.FlexBlock,{children:(0,s.jsx)(m.SelectControl,{label:(0,r.__)("Post Type","jcore-dynamic-archive"),value:a,options:T.map((e=>({label:e.name,value:e.slug}))),onChange:e=>o({postType:e})})}),(0,s.jsx)(m.FlexItem,{children:O&&(0,s.jsx)(m.Spinner,{})})]}),(0,s.jsx)(x,{label:(0,r.__)("Show pagination","jcore-dynamic-archive"),checked:f,setAttributes:o,attributeName:"showPagination",children:(0,s.jsx)(m.ToggleControl,{label:(0,r.__)("Infinite scroll","jcore-dynamic-archive"),checked:b,onChange:e=>o({infiniteScroll:e})})}),(0,s.jsx)(m.SelectControl,{label:(0,r.__)("Order","jcore-dynamic-archive"),value:I,options:B,onChange:e=>o({order:e})}),(0,s.jsx)(m.SelectControl,{label:(0,r.__)("Order by","jcore-dynamic-archive"),value:R,options:V,onChange:e=>o({orderBy:e})}),"post"===a&&(0,s.jsx)(m.SelectControl,{label:(0,r.__)("Sticky post behavior","jcore-dynamic-archive"),options:[{label:(0,r.__)("Include","jcore-dynamic-archive"),value:"include"},{label:(0,r.__)("Exclude","jcore-dynamic-archive"),value:"exclude"},{label:(0,r.__)("Only","jcore-dynamic-archive"),value:"only"}],onChange:e=>o({sticky:e}),value:w})]}),(0,s.jsxs)(m.PanelBody,{title:(0,r.__)("Layout","jcore-dynamic-archive"),icon:u,children:[(0,s.jsx)(m.ToggleControl,{label:(0,r.__)("Masonry Grid","jcore-dynamic-archive"),checked:_,onChange:e=>o({masonryGrid:e})}),(0,s.jsx)(m.RangeControl,{label:(0,r.__)("Columns","jcore-dynamic-archive"),value:v||3,onChange:e=>{isNaN(parseInt(e))||o({columns:parseInt(e)})},min:1,max:4}),(0,s.jsx)(m.TextControl,{label:(0,r.__)("Posts per Page","jcore-dynamic-archive"),value:l||E,onChange:e=>{isNaN(parseInt(e))||o({perPage:parseInt(e)})},type:"number",min:1,max:100})]}),(0,s.jsx)(m.PanelBody,{title:(0,r.__)("Filters","jcore-dynamic-archive"),icon:M?(0,s.jsx)(m.Spinner,{size:5}):h,children:!M&&(0,s.jsxs)(s.Fragment,{children:[H.length>0&&(0,s.jsx)("p",{children:"Filters to show"}),0===H.length&&(0,s.jsx)("p",{children:"No filters available for selected post type"}),H.map((e=>(0,s.jsxs)("div",{className:"jcore-taxonomy-item",children:[(0,s.jsx)(m.CheckboxControl,{label:(0,r.__)(e.label,"jcore-dynamic-archive"),checked:k.includes(e.value),onChange:n=>o({taxonomies:k.includes(e.value)?k.filter((n=>n!==e.value)):[...k,e.value]})}),k.includes(e.value)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.ToggleControl,{label:(0,r.__)("Hierarchical filter","jcore-dynamic-archive"),help:(0,r.__)("If enabled, child categories will be hidden until parent category is selected","jcore-dynamic-archive"),checked:P[e.value],onChange:n=>o({hierarchicalFilter:{...P,[e.value]:n}})}),(0,s.jsx)(m.SelectControl,{label:(0,r.__)("Filter type","jcore-dynamic-archive"),value:C[e.value],options:D,onChange:n=>o({filterTypes:{...C,[e.value]:n}})}),(0,s.jsx)(j,{taxonomySlug:e.value,onChange:n=>o({forcedCategories:{...S,[e.value]:n}}),value:S[e.value]})]})]},e.id)))]})})]}),(0,s.jsx)("div",{...(0,c.useBlockProps)(),children:(0,s.jsx)(p(),{block:"jcore/dynamic-archive",attributes:n})})]})},save:()=>null})}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,a),i.exports}a.m=n,e=[],a.O=function(n,o,r,i){if(!o){var t=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],i=e[d][2];for(var c=!0,l=0;l<o.length;l++)(!1&i||t>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(c=!1,i<t&&(t=i));if(c){e.splice(d--,1);var s=r();void 0!==s&&(n=s)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,r,i]},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,{a:n}),n},a.d=function(e,n){for(var o in n)a.o(n,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={818:0,854:0};a.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,i,t=o[0],c=o[1],l=o[2],s=0;if(t.some((function(n){return 0!==e[n]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(l)var d=l(a)}for(n&&n(o);s<t.length;s++)i=t[s],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},o=self.webpackChunkdynamic_archive=self.webpackChunkdynamic_archive||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var r=a.O(void 0,[854],(function(){return a(173)}));r=a.O(r)}();