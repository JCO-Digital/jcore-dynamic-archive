(()=>{var e,t={956:(e,t,n)=>{"use strict";const r=window.wp.blocks;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=window.wp.blockEditor,a=window.wp.i18n,c=window.wp.hooks,l=window.wp.element,u=window.wp.coreData,d=window.wp.data,p=window.wp.serverSideRender;var m=n.n(p);const h=window.wp.components,f=window.wp.primitives,g=window.ReactJSXRuntime,y=(0,g.jsxs)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,g.jsx)(f.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,g.jsx)(f.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),C=(0,g.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(f.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})}),x=(0,g.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)(f.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});var v=n(578);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j({taxonomySlug:e,onChange:t,value:n}){const[r,o]=(0,l.useState)([]),[s,i]=(0,l.useState)({}),[c,d]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(n&&Object.keys(s).length>0){const e=n.map((e=>{const t=s[e];return t?`${e}###${t.name}`:void 0})).filter((e=>void 0!==e));d(e)}}),[n,s]);const{taxonomy:p,loading:m}=function(e){const{record:t,isResolving:n}=(0,u.useEntityRecord)("root","taxonomy",e);return{taxonomy:t,loading:n}}(e),{taxonomyRecords:f,loading:y}=function(e,t={}){const n=(r=t,b(b({},{per_page:100}),r));var r;const{records:o,isResolving:s}=(0,u.useEntityRecords)("taxonomy",e,n);return{taxonomyRecords:o,loading:s}}(e,{per_page:-1});return(0,l.useEffect)((()=>{if(f){const e=f.map((e=>`${e.id}###${e.name}`)),t={};f.forEach((e=>{t[e.id.toString()]={slug:e.slug,name:e.name}})),o(e),i(t)}}),[f]),(0,g.jsxs)(h.Flex,{children:[(0,g.jsx)(h.FlexBlock,{children:(0,g.jsx)(h.FormTokenField,{__experimentalExpandOnFocus:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,displayTransform:e=>{const[t,n]=e.split("###");return null!=n?n:""},suggestions:r,value:c,onChange:e=>{const n=e.map((e=>e.split("###")[0])).filter((e=>""!==e&&null!=e&&!1!==e&&"undefined"!==e)),r=n.map((e=>null!=e?e:void 0)).filter((e=>void 0!==e));t(r)},label:`${(0,a.sprintf)(
// translators: The label of the taxonomy.
// translators: The label of the taxonomy.
(0,a._x)("Show only items with selected: %s","Taxonomy","jcore-dynamic-archive"),p.name)}`})}),(m||y)&&(0,g.jsx)(h.FlexItem,{children:(0,g.jsx)(h.Spinner,{})})]})}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.n(v)()("latest-posts:Edit");const O=[{name:"related",title:"Related Posts (JCORE)",icon:{src:(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-cable-icon lucide-cable",children:[(0,g.jsx)("path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",fill:"none"}),(0,g.jsx)("path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",fill:"none"}),(0,g.jsx)("path",{d:"M21 21v-2h-4",fill:"none"}),(0,g.jsx)("path",{d:"M3 5h4V3",fill:"none"}),(0,g.jsx)("path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",fill:"none"})]})},isActive:["related"],description:"Related posts block",attributes:{related:!0},scope:["inserter","transform"]}],S=JSON.parse('{"UU":"jcore/latest-posts"}');(0,r.registerBlockType)(S.UU,{edit:function({attributes:e,setAttributes:t,context:n}){const{postTypes:r,related:o,columns:s,postsPerPage:p,order:f,orderBy:v,selectedTaxonomies:w,sticky:b,expanded:F,inherit:O}=e,{isSingular:S}=function(e){if(!e)return{isSingular:!0};let t=!1,n="wp"===e?"custom":e;const r=e.includes("-")?e.split("-",1)[0]:e;return(e.includes("-")?e.split("-").slice(1).join("-"):"")&&(n=r),t=["404","blank","single","page","custom"].includes(n),{isSingular:t,templateType:n}}(null==n?void 0:n.templateSlug);!0===S&&O&&t({inherit:!1});const{postTypes:k,loading:P}=function(e={per_page:100}){const{isResolving:t,records:n}=(0,u.useEntityRecords)("root","postType",e),[r,o]=(0,l.useState)([]),s=(0,c.applyFilters)("dynamicArchive.forbiddenPostTypes",["attachment"]);return(0,l.useEffect)((()=>{n&&o(n.filter((e=>e.viewable&&!s.includes(e.slug))))}),[n]),{postTypes:r,loading:t}}(),M=(0,c.applyFilters)("jcore.latestPosts.showPostTypes",k),[E,B]=(0,l.useState)(!1),T=(0,d.useSelect)((e=>{if(!r||0===r.length)return[];B(!0);const t=[];for(const n of r){const r=e(u.store).getTaxonomies({per_page:-1,type:n});r&&t.push(...r)}return t?(B(!1),(0,c.applyFilters)("jcore.latestPosts.taxonomies",t,r)):(B(!1),[])}),[r]),V=(0,c.applyFilters)("jcore.latestPosts.maxSelected",-1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.InspectorControls,{children:[(0,g.jsxs)(h.PanelBody,{title:(0,a.__)("Settings","jcore-dynamic-archive"),icon:P?(0,g.jsx)(h.Spinner,{size:5}):y,initialOpen:F,children:[!S&&!o&&(0,g.jsx)(h.ToggleControl,{label:(0,a.__)("Inherit query from template","jcore-dynamic-archive"),checked:O,onChange:e=>t({inherit:e}),__nextHasNoMarginBottom:!0}),!O&&!o&&(0,g.jsx)(h.__experimentalSpacer,{marginBottom:6,children:(0,g.jsxs)(h.__experimentalVStack,{children:[M.map((e=>(0,g.jsx)(h.CheckboxControl,{disabled:!r.includes(e.slug)&&V>0&&r.length>=V,label:e.name,checked:r.includes(e.slug),onChange:()=>(e=>{const n=r.indexOf(e);t(-1===n?{postTypes:[...r,e]}:{postTypes:r.toSpliced(n,1)})})(e.slug),__nextHasNoMarginBottom:!0},e.slug))),V>0&&r.length>=V&&(0,g.jsx)(h.__experimentalText,{children:sprintf((0,a.__)("You have selected the maximum amount of post types. (%s)","jcore"),V)})]})}),!O&&(0,g.jsx)(h.__experimentalSpacer,{marginBottom:6,children:(0,g.jsxs)(h.__experimentalVStack,{children:[E&&(0,g.jsxs)(h.__experimentalHStack,{alignment:"left",children:[(0,g.jsx)(h.Spinner,{}),(0,g.jsx)(h.__experimentalText,{children:(0,a.__)("Loading taxonomies...","jcore-dynamic-archive")})]}),!E&&(0,g.jsx)(h.QueryControls,{numberOfItems:p,onNumberOfItemsChange:e=>t({postsPerPage:e}),maxItems:(0,c.applyFilters)("jcore.latestPosts.maxItems",25),minItems:1,order:f,orderBy:v,onOrderChange:e=>t({order:e}),onOrderByChange:e=>t({orderBy:e}),onCategoryChange:e=>t({category:e.id})}),r&&r.includes("post")&&(0,g.jsx)(h.SelectControl,{label:(0,a.__)("Sticky post behavior","jcore-dynamic-archive"),options:[{label:(0,a.__)("Include","jcore-dynamic-archive"),value:"include"},{label:(0,a.__)("Exclude","jcore-dynamic-archive"),value:"exclude"},{label:(0,a.__)("Only","jcore-dynamic-archive"),value:"only"}],onChange:e=>t({sticky:e}),value:b,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})})]}),(0,g.jsx)(h.PanelBody,{title:(0,a.__)("Layout","jcore"),icon:C,initialOpen:F,children:(0,g.jsx)(h.RangeControl,{label:(0,a.__)("Columns","jcore-dynamic-archive"),value:s||3,onChange:e=>{isNaN(parseInt(e))||t({columns:parseInt(e)})},min:1,max:5,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),!o&&!O&&(0,g.jsx)(h.PanelBody,{title:(0,a.__)("Filters","jcore-dynamic-archive"),icon:x,initialOpen:F,children:(0,g.jsx)(h.__experimentalSpacer,{marginBottom:6,children:(0,g.jsx)(h.__experimentalVStack,{children:!E&&T.map((e=>{var n;return(0,g.jsx)(j,{taxonomySlug:e.slug,onChange:n=>t({selectedTaxonomies:_(_({},w),{},{[e.slug]:n})}),value:null!==(n=w[e.slug])&&void 0!==n?n:[]})}))})})})]}),(0,g.jsx)("div",_(_({},(0,i.useBlockProps)()),{},{children:(0,g.jsx)(h.Disabled,{isDisabled:!0,children:(0,g.jsx)(m(),{block:"jcore/latest-posts",attributes:e,httpMethod:"POST"})})}))]})},icon:{src:(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-layout-list-icon lucide-layout-list",children:[(0,g.jsx)("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",fill:"none"}),(0,g.jsx)("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",fill:"none"}),(0,g.jsx)("path",{d:"M14 4h7",fill:"none"}),(0,g.jsx)("path",{d:"M14 9h7",fill:"none"}),(0,g.jsx)("path",{d:"M14 15h7",fill:"none"}),(0,g.jsx)("path",{d:"M14 20h7",fill:"none"})]})},save:()=>null,transforms:{from:[{type:"block",blocks:["jcore/latest-posts"],isMatch:e=>e.related,transform:e=>(0,r.createBlock)("jcore/latest-posts",{related:!1})}]},variations:O})},578:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(709)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},709:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,s,i=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),s=o-(n||o);r.diff=s,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];n=s.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(49),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},49:e=>{var t=1e3,n=60*t,r=60*n,o=24*r,s=7*o;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,a){a=a||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(c=e,(l=Math.abs(c))>=o?i(c,l,o,"day"):l>=r?i(c,l,r,"hour"):l>=n?i(c,l,n,"minute"):l>=t?i(c,l,t,"second"):c+" ms"):function(e){var s=Math.abs(e);return s>=o?Math.round(e/o)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,n,o,s)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],s=e[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,o,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={425:0,701:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,i=n[0],a=n[1],c=n[2],l=0;if(i.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)var u=c(r)}for(t&&t(n);l<i.length;l++)s=i[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},n=self.webpackChunkdynamic_archive=self.webpackChunkdynamic_archive||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[701],(()=>r(956)));o=r.O(o)})();
